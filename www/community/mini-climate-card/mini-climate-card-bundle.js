(function(){"use strict";function a(){var b=$(["\n      <div class='entity__secondary_info ellipsis'>\n        <mc-secondary-info\n          .climate=","\n          .config=","\n          .hvacMode=","\n          .fanMode=",">\n        </mc-secondary-info>\n      </div>"]);return a=function(){return b},b}function b(){var a=$(["\n      <div class='entity__info__name' @click=",">\n        ","\n      </div>\n     ","\n    "]);return b=function(){return a},a}function c(){var a=$(["\n        <ha-icon-button class='toggle-button ","'\n          .icon=","\n          @click=",">\n        </ha-icon-button>\n    "]);return c=function(){return a},a}function d(){var a=$(["\n        <div class='bottom flex'>\n          <mc-indicators\n            .indicators=",">\n          </mc-indicators>\n          ","\n        </div>\n    "]);return d=function(){return a},a}function e(){var a=$(["\n        <div class=\"mc-toggle_content\">\n          <mc-buttons\n            .buttons=",">\n          </mc-buttons>\n        </div>\n    "]);return e=function(){return a},a}function f(){var a=$(["\n      <div class='entity__icon' ?color=",">\n        <ha-icon .icon="," ></ha-icon>\n      </div>"]);return f=function(){return a},a}function g(){var a=$(["\n      <ha-card\n        class=","\n        style=",">\n        <div class='mc__bg'></div>\n        <div class='mc-climate'>\n          <div class='mc-climate__core flex'>\n            ","\n            <div class='entity__info'>\n              <div class=\"wrap\">\n                <div class=\"entity__info__name_wrap\" @click=",">\n                  ","\n                </div>\n                <div class=\"ctl-wrap ellipsis\">\n                  ","\n                </div>\n              </div>\n              ","\n            </div>\n            ","\n          </div>\n          ","\n        </div>\n      </ha-card>\n    "]);return g=function(){return a},a}function h(){var a=$(["\n        <div class=\"entity__controls\">\n          <mc-target-temperature\n            .targetTemperature=","\n            @changing=\"","\">\n          </mc-target-temperature>\n        </div>\n    "]);return h=function(){return a},a}function i(){var a=$(["<mc-mode-menu .mode=","></mc-mode-menu>"]);return i=function(){return a},a}function j(){var a=$(["<mc-button .button=","></mc-button>"]);return j=function(){return a},a}function k(){var a=$(["<mc-dropdown .dropdown=","></mc-dropdown>"]);return k=function(){return a},a}function l(){var a=$(["\n        ","\n        ","\n        <mc-temperature\n          .temperature=","\n          .target=","\n          .changing=",">\n        </mc-temperature>\n    "]);return l=function(){return a},a}function m(){var a=$(["\n        <span class=\"label ellipsis\">        \n          ","\n        </span>\n      "]);return m=function(){return a},a}function n(){var a=$(["\n      ha-relative-time, .gray {\n        color: #727272;\n      }\n      .name {\n        font-size: calc(var(--mc-unit) * .35);\n        font-weight: var(--mc-info-font-weight);\n        line-height: calc(var(--mc-unit) * .5);\n        vertical-align: middle;\n        display: inline-block;\n      }\n      .icon {\n        color: var(--mc-icon-color);\n        height: calc(var(--mc-unit) * .475);\n        width: calc(var(--mc-unit) * .5);\n        min-width: calc(var(--mc-unit) * .5);\n        --mdc-icon-size: calc(var(--mc-unit) * 0.5);\n      }\n    "]);return n=function(){return a},a}function o(){var a=$(["<mc-fan-mode-secondary .fanMode="," .config=","></mc-fan-mode-secondary>"]);return o=function(){return a},a}function p(){var a=$(["<ha-relative-time .hass="," .datetime=","></ha-relative-time>"]);return p=function(){return a},a}function q(){var a=$(["<ha-icon class='icon' .icon=","></ha-icon>"]);return q=function(){return a},a}function r(){var a=$(["\n        ","\n         <span class='name'>","</span>\n      "]);return r=function(){return a},a}function s(){var a=$(["<ha-icon class='icon' .icon=","></ha-icon>"]);return s=function(){return a},a}function t(){var a=$(["\n        ","\n         <span class='name ","'>","</span>\n      "]);return t=function(){return a},a}function u(){var a=$(["\n      paper-menu-button {\n        padding: 0;\n      }\n      .name {\n        font-size: calc(var(--mc-unit) * .35);\n        font-weight: var(--mc-info-font-weight);\n        line-height: calc(var(--mc-unit) * .5);\n        vertical-align: middle;\n        display: inline-block;\n      }\n      .icon {\n        color: var(--mc-icon-color);\n        height: calc(var(--mc-unit) * .475);\n        width: calc(var(--mc-unit) * .5);\n        min-width: calc(var(--mc-unit) * .5);\n        --mdc-icon-size: calc(var(--mc-unit) * 0.5);\n      }\n    "]);return u=function(){return a},a}function v(){var a=$(["\n            <paper-item value=",">\n              <span class='mc-dropdown__item__label'>","</span>\n            </paper-item>"]);return v=function(){return a},a}function w(){var a=$(["\n       <paper-menu-button\n        class='mc-dropdown'\n        noink no-animations\n        .horizontalAlign=","\n        .verticalAlign=","\n        .verticalOffset=","\n        ?disabled=","\n        .dynamicAlign=",">\n       <div class=\"wrap\" slot='dropdown-trigger'>\n         ","\n       </div>\n        <paper-listbox slot=\"dropdown-content\" .selected="," @iron-select=",">\n          ","\n        </paper-listbox>\n      </paper-menu-button>\n    "]);return w=function(){return a},a}function x(){var a=$(["\n       <ha-icon class='icon' .icon=","></ha-icon>\n       <span class='name'>","</span>\n    "]);return x=function(){return a},a}function y(){var a=$(["\n    .controls-wrap {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n    .temp {\n      width: calc(var(--mc-unit) * .75);\n      height: calc(var(--mc-unit) * .75);\n      --mdc-icon-button-size: calc(var(--mc-unit) * .75);\n      color: var(--mc-icon-color);\n    }\n    .temp.--up {\n      margin-top: -2px;\n    }\n    .temp.--down {\n      margin-top: -2px;\n    }\n    .temp.--down {\n      margin-top: auto;\n    }\n    "]);return y=function(){return a},a}function z(){var a=$(["\n      <div class='controls-wrap'>\n        <ha-icon-button class='temp --up'\n          .icon=","\n          @click=",">\n        </ha-icon-button>\n        <ha-icon-button class='temp --down'\n          .icon=","\n          @click=",">\n        </ha-icon-button>\n      </div>\n    "]);return z=function(){return a},a}function A(){var a=$(["\n    .state {\n      margin-top:calc(var(--mc-unit) * .15);\n    }\n    .state__value {\n      font-weight: var(--mc-info-font-weight);\n      line-height: calc(var(--mc-unit) * .475);\n      font-size: calc(var(--mc-unit) * .475);\n    }\n    .state__uom {\n      font-size: calc(var(--mc-unit) * 0.35);\n      font-weight: var(--mc-name-font-weight);\n      opacity: 0.6;\n      line-height: calc(var(--mc-unit) * 0.475);\n    }\n    .ellipsis {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n    .changing {\n      color: var(--mc-accent-color);\n    }\n    "]);return A=function(){return a},a}function B(){var a=$(["\n    <div class='state ellipsis'>\n      <span class='state__value ","'>","</span>\n      ","\n      <span class='state__uom'>","</span>\n    </div>\n    "]);return B=function(){return a},a}function C(){var a=$(["\n      <span class='state__value'>/</span>\n      <span class='state__value'>","</span>"]);return C=function(){return a},a}function D(){var a=$(["\n      :host {\n        position: relative;\n        box-sizing: border-box;\n        margin: 0;\n        overflow: hidden;\n        transition: background .5s;\n        --paper-item-min-height: var(--mc-unit);\n        --mc-dropdown-unit: var(--mc-unit);\n        --mdc-icon-button-size: calc(var(--mc-unit));\n      }\n      :host([color]) {\n        background: var(--mc-active-color);\n        transition: background .25s;\n        opacity: 1;\n      }\n      :host([disabled]) {\n        opacity: .25;\n        pointer-events: none;\n      }\n      mc-button {\n        width: calc(var(--mc-unit));\n        height: calc(var(--mc-unit));\n      }\n    "]);return D=function(){return a},a}function E(){var a=$(["",""]);return E=function(){return a},a}function F(){var a=$(["\n      <mc-dropdown\n        .dropdown=",">\n      </mc-dropdown>\n    "]);return F=function(){return a},a}function G(){var a=$(["\n       <mc-button\n         class=\"custom-button\"\n         .button=",">\n        </mc-button>\n    "]);return G=function(){return a},a}function H(){var a=$(["\n      :host {\n        position: relative;\n        box-sizing: border-box;\n        margin: 0;\n        overflow: hidden;\n        transition: background .5s;\n      }\n      :host([color]) {\n        background: var(--mc-active-color);\n        transition: background .25s;\n        opacity: 1;\n      }\n      :host([disabled]) {\n        opacity: .25;\n        pointer-events: none;\n      }\n    "]);return H=function(){return a},a}function I(){var a=$(["\n       <ha-icon-button\n         style=","\n         .icon=","\n         @click=","\n         ?disabled=\"","\"\n         ?color=",">\n        </ha-icon-button>\n    "]);return I=function(){return a},a}function J(){var a=$(["\n      :host {\n        position: relative;\n        box-sizing: border-box;\n        margin: 0;\n        overflow: hidden;\n        transition: background .5s;\n      }\n      :host([color]) {\n        background: var(--mc-active-color);\n        transition: background .25s;\n        opacity: 1;\n      }\n      :host([disabled]) {\n        opacity: .25;\n        pointer-events: none;\n      }\n    "]);return J=function(){return a},a}function K(){var a=$(["\n      <mc-dropdown-base\n        style=","\n        @change=","\n        .items=","\n        .icon=","\n        .disabled=\"","\"\n        .active=","\n        .selected=",">\n      </mc-dropdown-base>\n    "]);return K=function(){return a},a}function L(){var a=$(["\n      :host {\n        min-width: calc(var(--mc-unit) * .85);\n        --mc-dropdown-unit: calc(var(--mc-unit) * .75);\n        --paper-item-min-height: var(--mc-unit);\n      }\n    "]);return L=function(){return a},a}function M(){var a=$(["\n      <mc-dropdown-base\n        @change=","\n        .items=","\n        .icon=","\n        style=","\n        .active=","\n        .selected=",">\n      </mc-dropdown-base>\n    "]);return M=function(){return a},a}function N(){var a=$(["\n        :host {\n          position: relative;\n          overflow: hidden;\n          --paper-item-min-height: 40px;\n        }\n        paper-menu-button\n        :host([disabled]) {\n          opacity: .25;\n          pointer-events: none;\n        }\n        :host([faded]) {\n          opacity: .75;\n        }\n        .mc-dropdown {\n          padding: 0;\n          display: block;\n        }\n        ha-icon-button[disabled] {\n          opacity: .25;\n          pointer-events: none;\n        }\n        .mc-dropdown__button.icon {\n          margin: 0;\n        }\n        ha-icon-button {\n          width: calc(var(--mc-dropdown-unit));\n          height: calc(var(--mc-dropdown-unit));\n          --mdc-icon-button-size: calc(var(--mc-dropdown-unit));\n        }\n        paper-item > *:nth-child(2) {\n          margin-left: 4px;\n        }\n        paper-menu-button[focused] ha-icon-button {\n          color: var(--mc-accent-color);\n        }\n        paper-menu-button[focused] ha-icon-button[focused] {\n          color: var(--mc-text-color);\n          transform: rotate(0deg);\n        }\n      "]);return N=function(){return a},a}function O(){var a=$(["\n            <paper-item value=",">\n              <span class='mc-dropdown__item__label'>","</span>\n            </paper-item>"]);return O=function(){return a},a}function P(){var a=$(["\n      <paper-menu-button\n        class='mc-dropdown'\n        noink no-animations\n        .horizontalAlign=","\n        .verticalAlign=","\n        .verticalOffset=","\n        .dynamicAlign=","\n        ?disabled=","\n        @click=",">\n        <ha-icon-button class='mc-dropdown__button icon' slot='dropdown-trigger'\n          .icon=","\n          ?disabled=","\n          ?color=",">\n        </ha-icon-button>\n        <paper-listbox slot=\"dropdown-content\" .selected="," @iron-select=",">\n          ","\n        </paper-listbox>\n      </paper-menu-button>\n    "]);return P=function(){return a},a}function Q(){var a=$(["\n     :host {\n        position: relative;\n        box-sizing: border-box;\n        font-size: calc(var(--mc-unit) * .35);\n        line-height: calc(var(--mc-unit) * .35);\n      }\n     .mc-indicators__container {\n       display: flex;\n       flex-wrap: wrap;\n       margin-right: calc(var(--mc-unit) * .075);\n     }\n     .state {\n        position: relative;\n        display: flex;\n        flex-wrap: nowrap;\n        margin-right: calc(var(--mc-unit) * .1);\n     }\n     .pointer {\n        cursor: pointer\n     }\n     .state__value_icon {\n        height: calc(var(--mc-unit) * .475);\n        width: calc(var(--mc-unit) * .5);\n        color: var(--mc-icon-color);\n        --mdc-icon-size: calc(var(--mc-unit) * 0.5);\n     }\n     .state__value {\n        margin: 0 1px;\n        font-weight: var(--mc-info-font-weight);\n        line-height: calc(var(--mc-unit) * .475);\n     }\n     .state__uom {\n        font-size: calc(var(--mc-unit) * .275);\n        line-height: calc(var(--mc-unit) * .525);\n        margin-left: 1px;\n        height: calc(var(--mc-unit) * .475);\n        opacity: 0.8;\n     }\n    "]);return Q=function(){return a},a}function R(){var a=$(["\n     <div class='mc-indicators__container'>\n       ","\n     </div>\n    "]);return R=function(){return a},a}function S(){var a=$(["\n       <div class='state ","' @click=",">\n         ","\n         <span class='state__value'>","</span>\n         ","\n       </div>\n    "]);return S=function(){return a},a}function T(){var a=$(["<span class='state__uom'>","</span>"]);return T=function(){return a},a}function U(){var a=$(["<ha-icon style="," class='state__value_icon' .icon=","></ha-icon>"]);return U=function(){return a},a}function V(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function W(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?V(Object(b),!0).forEach(function(c){X(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):V(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function X(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function Y(){var a=$(["\n  .ellipsis {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n  .label {\n    margin: 0 8px;\n  }\n  ha-icon {\n    width: calc(var(--mc-unit) * .6);\n    height: calc(var(--mc-unit) * .6);\n  }\n  ha-icon-button {\n    color: var(--mc-button-color);\n    transition: color .25s;\n  }\n  ha-icon-button[color] {\n    color: var(--mc-icon-active-color) !important;\n    opacity: 1 !important;\n  }\n  ha-icon-button[inactive] {\n    opacity: .5;\n  }\n"]);return Y=function(){return a},a}function Z(){var a=$(["\n  :host {\n    overflow: visible !important;\n    display: block;\n    --mc-scale: var(--mini-climate-scale, 1);\n    --mc-unit: calc(var(--mc-scale) * 40px);\n    --mc-name-font-weight: var(--mini-climate-name-font-weight, 400);\n    --mc-info-font-weight: var(--mini-climate-info-font-weight, 300);\n    --mc-entity-info-left-offset: 8px;\n    --mc-accent-color: var(--mini-climate-accent-color, var(--accent-color, #f39c12));\n    --mc-text-color: var(--mini-climate-base-color, var(--primary-text-color, #000));\n    --mc-active-color: var(--mc-accent-color);\n    --mc-button-color: var(--mini-climate-button-color, var(--paper-item-icon-color, #44739e));\n    --mc-icon-color:\n      var(--mini-climate-icon-color,\n        var(--mini-climate-base-color,\n          var(--paper-item-icon-color, #44739e)));\n    --mc-icon-active-color: var(--paper-item-icon-active-color, --mc-active-color);\n    --mc-info-opacity: 1;\n    --mc-bg-opacity: var(--mini-climate-background-opacity, 1);\n    color: var(--mc-text-color);\n    --mc-dropdown-unit: calc(var(--mc-unit) * .75);\n    --paper-item-min-height: var(--mc-unit);\n    --mdc-icon-button-size: calc(var(--mc-unit) * 0.75);\n  }\n  ha-card.--group {\n    box-shadow: none;\n  }\n  ha-card.--bg {\n    --mc-info-opacity: .75;\n  }\n  ha-card {\n    cursor: default;\n    display: flex;\n    background: transparent;\n    overflow: visible;\n    padding: 0;\n    position: relative;\n    color: inherit;\n    font-size: calc(var(--mc-unit) * 0.35);\n  }\n  ha-card:before {\n    content: '';\n    padding-top: 0px;\n    transition: padding-top .5s cubic-bezier(.21,.61,.35,1);\n    will-change: padding-top;\n  }\n  header {\n    display: none;\n  }\n  .mc__bg {\n    background: var(--ha-card-background, var(--paper-card-background-color, white));\n    position: absolute;\n    top: 0; right: 0; bottom: 0; left: 0;\n    overflow: hidden;\n    -webkit-transform: translateZ(0);\n    transform: translateZ(0);\n    opacity: var(--mc-bg-opacity);\n  }\n  .mc-climate {\n    align-self: flex-end;\n    box-sizing: border-box;\n    position: relative;\n    padding: 16px 16px 0px 16px;\n    transition: padding .25s ease-out;\n    width: 100%;\n    will-change: padding;\n  }\n  .flex {\n    display: flex;\n    display: -ms-flexbox;\n    display: -webkit-flex;\n    flex-direction: row;\n  }\n  .mc-climate__core {\n    position: relative;\n    padding-right: 5px;\n  }\n  .entity__info {\n    user-select: none;\n    margin-left: var(--mc-entity-info-left-offset);\n    flex: 1;\n    min-width: 0;\n    white-space: nowrap;\n  }\n  .entity__icon {\n    color: var(--mc-icon-color);\n    white-space: nowrap;\n  }\n  .entity__icon[color] {\n    color: var(--mc-icon-active-color);\n  }\n  .entity__icon {\n    animation: fade-in .25s ease-out;\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: cover;\n    border-radius: 100%;\n    height: var(--mc-unit);\n    width: var(--mc-unit);\n    min-width: var(--mc-unit);\n    line-height: var(--mc-unit);\n    margin-right: calc(var(--mc-unit) / 5);\n    position: relative;\n    text-align: center;\n    will-change: border-color;\n    transition: border-color .25s ease-out;\n  }\n  .entity__info__name {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    line-height: calc(var(--mc-unit) / 2);\n    color: var(--mc-text-color);\n    font-weight: var(--mc-name-font-weight);\n  }\n  .entity__secondary_info {\n    margin-top: -2px;\n  }\n  ha-card.--initial .mc-climate {\n    padding: 16px 16px 5px 16px;\n  }\n  ha-card.--unavailable .mc-climate {\n    padding: 16px;\n  }\n  ha-card.--group .mc-climate {\n    padding: 2px 0 0 0;\n  }\n  .toggle-button {\n    width: calc(var(--mc-unit) * .75);\n    height: calc(var(--mc-unit) * .75);\n    --mdc-icon-button-size: calc(var(--mc-unit) * .75);\n    color: var(--mc-icon-color);\n    margin-left: auto;\n    margin-top: calc(var(--mc-unit) * -.125);\n    margin-right: calc(var(--mc-unit) * .05);\n  }\n  .toggle-button.open {\n     transform: rotate(180deg);\n     color: var(--mc-active-color)\n  }\n  .wrap {\n    display: flex;\n    flex-direction: row;\n  }\n  .entity__controls {\n    margin-left: auto;\n    display: flex;\n    white-space: nowrap;\n    margin-top: calc(var(--mc-unit) * -.25);\n  }\n  .ctl-wrap {\n    display: flex;\n    flex-direction: row;\n    margin-left: auto;\n    margin-top: auto;\n    margin-bottom: 0;\n  }\n  .bottom {\n    margin-top: calc(var(--mc-unit) * .075);\n  }\n  .entity__info__name_wrap {\n    margin-right: 10px;\n    max-width: calc(calc(var(--mc-card-width) - 191.3px) / 1.43);\n    min-width: calc(var(--mc-unit) * 2.5);\n    cursor: pointer;\n    height: var(--mc-unit);\n  }\n  mc-buttons {\n    width: 100%;\n    justify-content: space-evenly;\n    display: flex;\n  }\n  mc-temperature {\n    min-width: 0;\n  }\n  .--unavailable .ctl-wrap {\n    margin-left: auto;\n    margin-top: auto;\n    margin-bottom: auto;\n  }\n  .--unavailable .entity__info {\n    margin-top: auto;\n    margin-bottom: auto;\n  }\n  .mc-toggle_content {\n    margin-top: calc(var(--mc-unit) * .05);\n  }\n  .ctl-wrap mc-dropdown, .ctl-wrap mc-button {\n    min-width: calc(var(--mc-unit) * .75);\n    margin-right: 3px;\n  }\n  .ctl-wrap mc-button {\n    width: calc(var(--mc-unit) * 0.75);\n    height: calc(var(--mc-unit) * 0.75);\n  }\n"]);return Z=function(){return a},a}function $(a,b){return b||(b=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(b)}}))}function _(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){return void c(a)}h.done?b(i):Promise.resolve(i).then(d,e)}function aa(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function f(a){_(h,d,e,f,g,"next",a)}function g(a){_(h,d,e,f,g,"throw",a)}var h=a.apply(b,c);f(void 0)})}}(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b():"function"==typeof define&&define.amd?define(b):b()})(this,function(){var ka=Math.round;function V(a,b){for(var{element:{content:d},parts:c}=a,e=document.createTreeWalker(d,133,null,!1),f=xa(c),g=c[f],h=-1,i=0,j=[],k=null;e.nextNode();){h++;var l=e.currentNode;for(l.previousSibling===k&&(k=null),b.has(l)&&(j.push(l),null===k&&(k=l)),null!==k&&i++;g!==void 0&&g.index===h;)g.index=null===k?g.index-i:-1,f=xa(c,f),g=c[f]}j.forEach(a=>a.parentNode.removeChild(a))}function X(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,{element:{content:e},parts:d}=a;if(null===c||void 0===c)return void e.appendChild(b);for(var f=document.createTreeWalker(e,133,null,!1),g=xa(d),h=0,i=-1;f.nextNode();){i++;var j=f.currentNode;for(j===c&&(h=wa(b),c.parentNode.insertBefore(b,c));-1!==g&&d[g].index===i;){if(0<h){for(;-1!==g;)d[g].index+=h,g=xa(d,g);return}g=xa(d,g)}}}function $(a){var b=Ra.get(a.type);void 0===b&&(b={stringsArray:new WeakMap,keyString:new Map},Ra.set(a.type,b));var c=b.stringsArray.get(a.strings);if(void 0!==c)return c;var d=a.strings.join(na);return c=b.keyString.get(d),void 0===c&&(c=new ra(a,a.getTemplateElement()),b.keyString.set(d,c)),b.stringsArray.set(a.strings,c),c}function _(a,b){function c(){f&&(f=!1,a()),g&&e()}function d(){xb(c)}function e(){var a=Date.now();if(f){if(a-h<2)return;g=!0}else f=!0,g=!1,setTimeout(d,b);h=a}var f=!1,g=!1,h=0;return e}function ba(a){return parseFloat(a)||0}function ca(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];return b.reduce(function(b,c){var d=a["border-"+c+"-width"];return b+ba(d)},0)}function da(a){for(var b=["top","right","bottom","left"],c={},d=0,e=b;d<e.length;d++){var f=e[d],g=a["padding-"+f];c[f]=ba(g)}return c}function ea(a){var b=a.getBBox();return ja(0,0,b.width,b.height)}function fa(a){var b=Math.abs,c=a.clientWidth,d=a.clientHeight;if(!c&&!d)return Db;var e=Cb(a).getComputedStyle(a),f=da(e),g=f.left+f.right,h=f.top+f.bottom,i=ba(e.width),j=ba(e.height);if("border-box"===e.boxSizing&&(ka(i+g)!==c&&(i-=ca(e,"left","right")+g),ka(j+h)!==d&&(j-=ca(e,"top","bottom")+h)),!ga(a)){var k=ka(i+g)-c,l=ka(j+h)-d;1!==b(k)&&(i-=k),1!==b(l)&&(j-=l)}return ja(f.left,f.top,i,j)}function ga(a){return a===Cb(a).document.documentElement}function ha(a){return vb?Eb(a)?ea(a):fa(a):Db}function ia(a){var b=a.x,c=a.y,d=a.width,e=a.height,f="undefined"==typeof DOMRectReadOnly?Object:DOMRectReadOnly,g=Object.create(f.prototype);return Bb(g,{x:b,y:c,width:d,height:e,top:c,right:b+d,bottom:e+c,left:b}),g}function ja(a,b,c,d){return{x:a,y:b,width:c,height:d}}var la="undefined"!=typeof window&&null!=window.customElements&&window.customElements.polyfillWrapFlushCallback!==void 0,ma=function(a,b){for(var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;b!==c;){var d=b.nextSibling;a.removeChild(b),b=d}},na="{{lit-".concat((Math.random()+"").slice(2),"}}"),oa="<!--".concat(na,"-->"),pa=new RegExp("".concat(na,"|").concat(oa)),qa="$lit$";class ra{constructor(a,b){this.parts=[],this.element=b;for(var c,d=[],e=[],f=document.createTreeWalker(b.content,133,null,!1),g=0,h=-1,j=0,{strings:k,values:{length:l}}=a;j<l;){if(c=f.nextNode(),null===c){f.currentNode=e.pop();continue}if(h++,1===c.nodeType){if(c.hasAttributes()){for(var m=c.attributes,{length:o}=m,p=0,q=0;q<o;q++)sa(m[q].name,qa)&&p++;for(;0<p--;){var r=k[j],t=va.exec(r)[2],u=t.toLowerCase()+qa,v=c.getAttribute(u);c.removeAttribute(u);var C=v.split(pa);this.parts.push({type:"attribute",index:h,name:t,strings:C}),j+=C.length-1}}"TEMPLATE"===c.tagName&&(e.push(c),f.currentNode=c.content)}else if(3===c.nodeType){var D=c.data;if(0<=D.indexOf(na)){for(var w=c.parentNode,x=D.split(pa),y=x.length-1,z=0;z<y;z++){var A=void 0,B=x[z];if(""===B)A=ua();else{var E=va.exec(B);null!==E&&sa(E[2],qa)&&(B=B.slice(0,E.index)+E[1]+E[2].slice(0,-qa.length)+E[3]),A=document.createTextNode(B)}w.insertBefore(A,c),this.parts.push({type:"node",index:++h})}""===x[y]?(w.insertBefore(ua(),c),d.push(c)):c.data=x[y],j+=y}}else if(8===c.nodeType)if(c.data===na){var F=c.parentNode;(null===c.previousSibling||h===g)&&(h++,F.insertBefore(ua(),c)),g=h,this.parts.push({type:"node",index:h}),null===c.nextSibling?c.data="":(d.push(c),h--),j++}else for(var G=-1;-1!==(G=c.data.indexOf(na,G+1));)this.parts.push({type:"node",index:-1}),j++}for(var H of d)H.parentNode.removeChild(H)}}var sa=(a,b)=>{var c=a.length-b.length;return 0<=c&&a.slice(c)===b},ta=a=>-1!==a.index,ua=()=>document.createComment(""),va=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/,wa=a=>{for(var b=11===a.nodeType?0:1,c=document.createTreeWalker(a,133,null,!1);c.nextNode();)b++;return b},xa=function(a){for(var b,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:-1,d=c+1;d<a.length;d++)if(b=a[d],ta(b))return d;return-1},ya=new WeakMap,za=a=>function(){var b=a(...arguments);return ya.set(b,!0),b},Aa=a=>"function"==typeof a&&ya.has(a),Ba={},Ca={};class Da{constructor(a,b,c){this.__parts=[],this.template=a,this.processor=b,this.options=c}update(a){var b=0;for(var c of this.__parts)void 0!==c&&c.setValue(a[b]),b++;for(var d of this.__parts)void 0!==d&&d.commit()}_clone(){for(var a,b=la?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),c=[],d=this.template.parts,e=document.createTreeWalker(b,133,null,!1),f=0,g=0,h=e.nextNode();f<d.length;){if(a=d[f],!ta(a)){this.__parts.push(void 0),f++;continue}for(;g<a.index;)g++,"TEMPLATE"===h.nodeName&&(c.push(h),e.currentNode=h.content),null===(h=e.nextNode())&&(e.currentNode=c.pop(),h=e.nextNode());if("node"===a.type){var i=this.processor.handleTextExpression(this.options);i.insertAfterNode(h.previousSibling),this.__parts.push(i)}else this.__parts.push(...this.processor.handleAttributeExpressions(h,a.name,a.strings,this.options));f++}return la&&(document.adoptNode(b),customElements.upgrade(b)),b}}var Ea=" ".concat(na," ");class Fa{constructor(a,b,c,d){this.strings=a,this.values=b,this.type=c,this.processor=d}getHTML(){for(var a=this.strings.length-1,b="",c=!1,d=0;d<a;d++){var e=this.strings[d],f=e.lastIndexOf("<!--");c=(-1<f||c)&&-1===e.indexOf("-->",f+1);var g=va.exec(e);b+=null===g?e+(c?Ea:oa):e.substr(0,g.index)+g[1]+g[2]+qa+g[3]+na}return b+=this.strings[a],b}getTemplateElement(){var a=document.createElement("template");return a.innerHTML=this.getHTML(),a}}var Ga=a=>null===a||"object"!=typeof a&&"function"!=typeof a,Ha=a=>Array.isArray(a)||!!(a&&a[Symbol.iterator]);class Ia{constructor(a,b,c){this.dirty=!0,this.element=a,this.name=b,this.strings=c,this.parts=[];for(var d=0;d<c.length-1;d++)this.parts[d]=this._createPart()}_createPart(){return new Ja(this)}_getValue(){for(var a=this.strings,b=a.length-1,c="",d=0;d<b;d++){c+=a[d];var e=this.parts[d];if(void 0!==e){var f=e.value;if(Ga(f)||!Ha(f))c+="string"==typeof f?f:f+"";else for(var g of f)c+="string"==typeof g?g:g+""}}return c+=a[b],c}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Ja{constructor(a){this.value=void 0,this.committer=a}setValue(a){a===Ba||Ga(a)&&a===this.value||(this.value=a,!Aa(a)&&(this.committer.dirty=!0))}commit(){for(;Aa(this.value);){var a=this.value;this.value=Ba,a(this)}this.value===Ba||this.committer.commit()}}class Ka{constructor(a){this.value=void 0,this.__pendingValue=void 0,this.options=a}appendInto(a){this.startNode=a.appendChild(ua()),this.endNode=a.appendChild(ua())}insertAfterNode(a){this.startNode=a,this.endNode=a.nextSibling}appendIntoPart(a){a.__insert(this.startNode=ua()),a.__insert(this.endNode=ua())}insertAfterPart(a){a.__insert(this.startNode=ua()),this.endNode=a.endNode,a.endNode=this.startNode}setValue(a){this.__pendingValue=a}commit(){if(null!==this.startNode.parentNode){for(;Aa(this.__pendingValue);){var b=this.__pendingValue;this.__pendingValue=Ba,b(this)}var a=this.__pendingValue;a===Ba||(Ga(a)?a!==this.value&&this.__commitText(a):a instanceof Fa?this.__commitTemplateResult(a):a instanceof Node?this.__commitNode(a):Ha(a)?this.__commitIterable(a):a===Ca?(this.value=Ca,this.clear()):this.__commitText(a))}}__insert(a){this.endNode.parentNode.insertBefore(a,this.endNode)}__commitNode(a){this.value===a||(this.clear(),this.__insert(a),this.value=a)}__commitText(a){var b=this.startNode.nextSibling;a=null==a?"":a;var c="string"==typeof a?a:a+"";b===this.endNode.previousSibling&&3===b.nodeType?b.data=c:this.__commitNode(document.createTextNode(c)),this.value=a}__commitTemplateResult(a){var b=this.options.templateFactory(a);if(this.value instanceof Da&&this.value.template===b)this.value.update(a.values);else{var c=new Da(b,a.processor,this.options),d=c._clone();c.update(a.values),this.__commitNode(d),this.value=c}}__commitIterable(a){Array.isArray(this.value)||(this.value=[],this.clear());var b,c=this.value,d=0;for(var e of a)b=c[d],void 0===b&&(b=new Ka(this.options),c.push(b),0===d?b.appendIntoPart(this):b.insertAfterPart(c[d-1])),b.setValue(e),b.commit(),d++;d<c.length&&(c.length=d,this.clear(b&&b.endNode))}clear(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this.startNode;ma(this.startNode.parentNode,a.nextSibling,this.endNode)}}class La{constructor(a,b,c){if(this.value=void 0,this.__pendingValue=void 0,2!==c.length||""!==c[0]||""!==c[1])throw new Error("Boolean attributes can only contain a single expression");this.element=a,this.name=b,this.strings=c}setValue(a){this.__pendingValue=a}commit(){for(;Aa(this.__pendingValue);){var b=this.__pendingValue;this.__pendingValue=Ba,b(this)}if(this.__pendingValue!==Ba){var a=!!this.__pendingValue;this.value!==a&&(a?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=a),this.__pendingValue=Ba}}}class Ma extends Ia{constructor(a,b,c){super(a,b,c),this.single=2===c.length&&""===c[0]&&""===c[1]}_createPart(){return new Na(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class Na extends Ja{}var Oa=!1;(()=>{try{var a={get capture(){return Oa=!0,!1}};window.addEventListener("test",a,a),window.removeEventListener("test",a,a)}catch(a){}})();class Pa{constructor(a,b,c){this.value=void 0,this.__pendingValue=void 0,this.element=a,this.eventName=b,this.eventContext=c,this.__boundHandleEvent=a=>this.handleEvent(a)}setValue(a){this.__pendingValue=a}commit(){for(;Aa(this.__pendingValue);){var d=this.__pendingValue;this.__pendingValue=Ba,d(this)}if(this.__pendingValue!==Ba){var a=this.__pendingValue,b=this.value,c=null==a||null!=b&&(a.capture!==b.capture||a.once!==b.once||a.passive!==b.passive);c&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),null!=a&&(null==b||c)&&(this.__options=Qa(a),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=a,this.__pendingValue=Ba}}handleEvent(a){"function"==typeof this.value?this.value.call(this.eventContext||this.element,a):this.value.handleEvent(a)}}var Qa=a=>a&&(Oa?{capture:a.capture,passive:a.passive,once:a.once}:a.capture),Ra=new Map,Sa=new WeakMap,Ta=(a,b,c)=>{var d=Sa.get(b);d===void 0&&(ma(b,b.firstChild),Sa.set(b,d=new Ka(Object.assign({templateFactory:$},c))),d.appendInto(b)),d.setValue(a),d.commit()};var Ua=new class{handleAttributeExpressions(a,b,c,d){var e=b[0];if("."===e){var g=new Ma(a,b.slice(1),c);return g.parts}if("@"===e)return[new Pa(a,b.slice(1),d.eventContext)];if("?"===e)return[new La(a,b.slice(1),c)];var f=new Ia(a,b,c);return f.parts}handleTextExpression(a){return new Ka(a)}};"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.2.1");var Va=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return new Fa(a,c,"html",Ua)},Wa=(a,b)=>"".concat(a,"--").concat(b),Xa=!0;"undefined"==typeof window.ShadyCSS?Xa=!1:"undefined"==typeof window.ShadyCSS.prepareTemplateDom&&(console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1."),Xa=!1);var Ya,Za=a=>b=>{var c=Wa(b.type,a),d=Ra.get(c);void 0===d&&(d={stringsArray:new WeakMap,keyString:new Map},Ra.set(c,d));var e=d.stringsArray.get(b.strings);if(void 0!==e)return e;var f=b.strings.join(na);if(e=d.keyString.get(f),void 0===e){var g=b.getTemplateElement();Xa&&window.ShadyCSS.prepareTemplateDom(g,a),e=new ra(b,g),d.keyString.set(f,e)}return d.stringsArray.set(b.strings,e),e},$a=["html","svg"],ab=a=>{$a.forEach(b=>{var c=Ra.get(Wa(b,a));c!==void 0&&c.keyString.forEach(a=>{var{element:{content:b}}=a,c=new Set;Array.from(b.querySelectorAll("style")).forEach(a=>{c.add(a)}),V(a,c)})})},bb=new Set,cb=(a,b,c)=>{bb.add(a);var d=!c?document.createElement("template"):c.element,e=b.querySelectorAll("style"),{length:f}=e;if(0===f)return void window.ShadyCSS.prepareTemplateStyles(d,a);for(var g,h=document.createElement("style"),j=0;j<f;j++)g=e[j],g.parentNode.removeChild(g),h.textContent+=g.textContent;ab(a);var k=d.content;!c?k.insertBefore(h,k.firstChild):X(c,h,k.firstChild),window.ShadyCSS.prepareTemplateStyles(d,a);var l=k.querySelector("style");if(window.ShadyCSS.nativeShadow&&null!==l)b.insertBefore(l.cloneNode(!0),b.firstChild);else if(!!c){k.insertBefore(h,k.firstChild);var m=new Set;m.add(h),V(c,m)}},db=(a,b,c)=>{if(!c||"object"!=typeof c||!c.scopeName)throw new Error("The `scopeName` option is required.");var d=c.scopeName,e=Sa.has(b),f=Xa&&11===b.nodeType&&!!b.host,g=f&&!bb.has(d),h=g?document.createDocumentFragment():b;if(Ta(a,h,Object.assign({templateFactory:Za(d)},c)),g){var i=Sa.get(h);Sa.delete(h);var j=i.value instanceof Da?i.value.template:void 0;cb(d,h,j),ma(b,b.firstChild),b.appendChild(h),Sa.set(b,i)}!e&&f&&window.ShadyCSS.styleElement(b.host)};window.JSCompiler_renameProperty=a=>a;var eb={toAttribute(a,b){return b===Boolean?a?"":null:b===Object||b===Array?null==a?a:JSON.stringify(a):a},fromAttribute(a,b){return b===Boolean?null!==a:b===Number?null===a?null:+a:b===Object||b===Array?JSON.parse(a):a}},fb=(a,b)=>b!==a&&(b===b||a===a),gb={attribute:!0,type:String,converter:eb,reflect:!1,hasChanged:fb},hb=1,ib=4,jb=8,kb=16,lb="finalized";class mb extends HTMLElement{constructor(){super(),this._updateState=0,this._instanceProperties=void 0,this._updatePromise=new Promise(a=>this._enableUpdatingResolver=a),this._changedProperties=new Map,this._reflectingProperties=void 0,this.initialize()}static get observedAttributes(){this.finalize();var a=[];return this._classProperties.forEach((b,c)=>{var d=this._attributeNameForProperty(c,b);void 0!==d&&(this._attributeToPropertyMap.set(d,c),a.push(d))}),a}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;var a=Object.getPrototypeOf(this)._classProperties;a!==void 0&&a.forEach((a,b)=>this._classProperties.set(b,a))}}static createProperty(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:gb;if(this._ensureClassProperties(),this._classProperties.set(a,b),!(b.noAccessor||this.prototype.hasOwnProperty(a))){var c="symbol"==typeof a?Symbol():"__".concat(a),d=this.getPropertyDescriptor(a,c,b);void 0!==d&&Object.defineProperty(this.prototype,a,d)}}static getPropertyDescriptor(a,b){return{get(){return this[b]},set(c){var d=this[a];this[b]=c,this._requestUpdate(a,d)},configurable:!0,enumerable:!0}}static getPropertyOptions(a){return this._classProperties&&this._classProperties.get(a)||gb}static finalize(){var a=Object.getPrototypeOf(this);if(a.hasOwnProperty(lb)||a.finalize(),this[lb]=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){var b=this.properties,c=[...Object.getOwnPropertyNames(b),...("function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(b):[])];for(var d of c)this.createProperty(d,b[d])}}static _attributeNameForProperty(a,b){var c=b.attribute;return!1===c?void 0:"string"==typeof c?c:"string"==typeof a?a.toLowerCase():void 0}static _valueHasChanged(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:fb;return c(a,b)}static _propertyValueFromAttribute(a,b){var c=b.type,d=b.converter||eb,e="function"==typeof d?d:d.fromAttribute;return e?e(a,c):a}static _propertyValueToAttribute(a,b){if(void 0!==b.reflect){var c=b.type,d=b.converter,e=d&&d.toAttribute||eb.toAttribute;return e(a,c)}}initialize(){this._saveInstanceProperties(),this._requestUpdate()}_saveInstanceProperties(){this.constructor._classProperties.forEach((a,b)=>{if(this.hasOwnProperty(b)){var c=this[b];delete this[b],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(b,c)}})}_applyInstanceProperties(){this._instanceProperties.forEach((a,b)=>this[b]=a),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){this._enableUpdatingResolver!==void 0&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(a,b,c){b!==c&&this._attributeToProperty(a,c)}_propertyToAttribute(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:gb,d=this.constructor,e=d._attributeNameForProperty(a,c);if(e!==void 0){var f=d._propertyValueToAttribute(b,c);if(f===void 0)return;this._updateState|=jb,null==f?this.removeAttribute(e):this.setAttribute(e,f),this._updateState&=~jb}}_attributeToProperty(a,b){if(!(this._updateState&jb)){var c=this.constructor,d=c._attributeToPropertyMap.get(a);if(void 0!==d){var e=c.getPropertyOptions(d);this._updateState|=kb,this[d]=c._propertyValueFromAttribute(b,e),this._updateState&=~kb}}}_requestUpdate(a,b){var c=!0;if(a!==void 0){var d=this.constructor,e=d.getPropertyOptions(a);d._valueHasChanged(this[a],b,e.hasChanged)?(!this._changedProperties.has(a)&&this._changedProperties.set(a,b),!0===e.reflect&&!(this._updateState&kb)&&(this._reflectingProperties===void 0&&(this._reflectingProperties=new Map),this._reflectingProperties.set(a,e))):c=!1}!this._hasRequestedUpdate&&c&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(a,b){return this._requestUpdate(a,b),this.updateComplete}_enqueueUpdate(){var a=this;return aa(function*(){a._updateState|=ib;try{yield a._updatePromise}catch(a){}var b=a.performUpdate();return null!=b&&(yield b),!a._hasRequestedUpdate})()}get _hasRequestedUpdate(){return this._updateState&ib}get hasUpdated(){return this._updateState&hb}performUpdate(){this._instanceProperties&&this._applyInstanceProperties();var a=!1,b=this._changedProperties;try{a=this.shouldUpdate(b),a?this.update(b):this._markUpdated()}catch(b){throw a=!1,this._markUpdated(),b}a&&(!(this._updateState&hb)&&(this._updateState|=hb,this.firstUpdated(b)),this.updated(b))}_markUpdated(){this._changedProperties=new Map,this._updateState&=~ib}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(){return!0}update(){this._reflectingProperties!==void 0&&0<this._reflectingProperties.size&&(this._reflectingProperties.forEach((a,b)=>this._propertyToAttribute(b,this[b],a)),this._reflectingProperties=void 0),this._markUpdated()}updated(){}firstUpdated(){}}Ya=lb,mb[Ya]=!0;var nb="adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ob=Symbol();class pb{constructor(a,b){if(b!==ob)throw new Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=a}get styleSheet(){return void 0===this._styleSheet&&(nb?(this._styleSheet=new CSSStyleSheet,this._styleSheet.replaceSync(this.cssText)):this._styleSheet=null),this._styleSheet}toString(){return this.cssText}}var qb=a=>{if(a instanceof pb)return a.cssText;if("number"==typeof a)return a;throw new Error("Value passed to 'css' function must be a 'css' function result: ".concat(a,". Use 'unsafeCSS' to pass non-literal values, but\n            take care to ensure page security."))},rb=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=c.reduce((b,c,d)=>b+qb(c)+a[d+1],a[0]);return new pb(e,ob)};(window.litElementVersions||(window.litElementVersions=[])).push("2.3.1");var sb={};class tb extends mb{static getStyles(){return this.styles}static _getUniqueStyles(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_styles",this))){var a=this.getStyles();if(void 0===a)this._styles=[];else if(Array.isArray(a)){var b=(a,c)=>a.reduceRight((a,c)=>Array.isArray(c)?b(c,a):(a.add(c),a),c),c=b(a,new Set),d=[];c.forEach(a=>d.unshift(a)),this._styles=d}else this._styles=[a]}}initialize(){super.initialize(),this.constructor._getUniqueStyles(),this.renderRoot=this.createRenderRoot(),window.ShadowRoot&&this.renderRoot instanceof window.ShadowRoot&&this.adoptStyles()}createRenderRoot(){return this.attachShadow({mode:"open"})}adoptStyles(){var a=this.constructor._styles;0===a.length||(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow?nb?this.renderRoot.adoptedStyleSheets=a.map(a=>a.styleSheet):this._needsShimAdoptedStyleSheets=!0:window.ShadyCSS.ScopingShim.prepareAdoptedCssText(a.map(a=>a.cssText),this.localName))}connectedCallback(){super.connectedCallback(),this.hasUpdated&&window.ShadyCSS!==void 0&&window.ShadyCSS.styleElement(this)}update(a){var b=this.render();super.update(a),b!==sb&&this.constructor.render(b,this.renderRoot,{scopeName:this.localName,eventContext:this}),this._needsShimAdoptedStyleSheets&&(this._needsShimAdoptedStyleSheets=!1,this.constructor._styles.forEach(a=>{var b=document.createElement("style");b.textContent=a.cssText,this.renderRoot.appendChild(b)}))}render(){return sb}}tb.finalized=!0,tb.render=db;var ub=function(){function a(a,b){var c=-1;return a.some(function(a,d){return a[0]===b&&(c=d,!0)}),c}return"undefined"==typeof Map?function(){function b(){this.__entries__=[]}return Object.defineProperty(b.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),b.prototype.get=function(b){var c=a(this.__entries__,b),d=this.__entries__[c];return d&&d[1]},b.prototype.set=function(b,c){var d=a(this.__entries__,b);~d?this.__entries__[d][1]=c:this.__entries__.push([b,c])},b.prototype.delete=function(b){var c=this.__entries__,d=a(c,b);~d&&c.splice(d,1)},b.prototype.has=function(b){return!!~a(this.__entries__,b)},b.prototype.clear=function(){this.__entries__.splice(0)},b.prototype.forEach=function(a,b){void 0===b&&(b=null);for(var c,d=0,e=this.__entries__;d<e.length;d++)c=e[d],a.call(b,c[1],c[0])},b}():Map}(),vb="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,wb=function(){return"undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")()}(),xb=function(){return"function"==typeof requestAnimationFrame?requestAnimationFrame.bind(wb):function(a){return setTimeout(function(){return a(Date.now())},1e3/60)}}(),yb=["top","right","bottom","left","width","height","size","weight"],zb="undefined"!=typeof MutationObserver,Ab=function(){function a(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=_(this.refresh.bind(this),20)}return a.prototype.addObserver=function(a){~this.observers_.indexOf(a)||this.observers_.push(a),this.connected_||this.connect_()},a.prototype.removeObserver=function(a){var b=this.observers_,c=b.indexOf(a);~c&&b.splice(c,1),!b.length&&this.connected_&&this.disconnect_()},a.prototype.refresh=function(){var a=this.updateObservers_();a&&this.refresh()},a.prototype.updateObservers_=function(){var a=this.observers_.filter(function(a){return a.gatherActive(),a.hasActive()});return a.forEach(function(a){return a.broadcastActive()}),0<a.length},a.prototype.connect_=function(){!vb||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),zb?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},a.prototype.disconnect_=function(){vb&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},a.prototype.onTransitionEnd_=function(a){var b=a.propertyName,c=void 0===b?"":b,d=yb.some(function(a){return!!~c.indexOf(a)});d&&this.refresh()},a.getInstance=function(){return this.instance_||(this.instance_=new a),this.instance_},a.instance_=null,a}(),Bb=function(a,b){for(var c,d=0,e=Object.keys(b);d<e.length;d++)c=e[d],Object.defineProperty(a,c,{value:b[c],enumerable:!1,writable:!1,configurable:!0});return a},Cb=function(a){var b=a&&a.ownerDocument&&a.ownerDocument.defaultView;return b||wb},Db=ja(0,0,0,0),Eb=function(){return"undefined"==typeof SVGGraphicsElement?function(a){return a instanceof Cb(a).SVGElement&&"function"==typeof a.getBBox}:function(a){return a instanceof Cb(a).SVGGraphicsElement}}(),Fb=function(){function a(a){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ja(0,0,0,0),this.target=a}return a.prototype.isActive=function(){var a=ha(this.target);return this.contentRect_=a,a.width!==this.broadcastWidth||a.height!==this.broadcastHeight},a.prototype.broadcastRect=function(){var a=this.contentRect_;return this.broadcastWidth=a.width,this.broadcastHeight=a.height,a},a}(),Gb=function(){return function(a,b){var c=ia(b);Bb(this,{target:a,contentRect:c})}}(),Hb=function(){function a(a,b,c){if(this.activeObservations_=[],this.observations_=new ub,"function"!=typeof a)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=a,this.controller_=b,this.callbackCtx_=c}return a.prototype.observe=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof Cb(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)||(b.set(a,new Fb(a)),this.controller_.addObserver(this),this.controller_.refresh())}},a.prototype.unobserve=function(a){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(a instanceof Cb(a).Element))throw new TypeError("parameter 1 is not of type \"Element\".");var b=this.observations_;b.has(a)&&(b.delete(a),!b.size&&this.controller_.removeObserver(this))}},a.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},a.prototype.gatherActive=function(){var a=this;this.clearActive(),this.observations_.forEach(function(b){b.isActive()&&a.activeObservations_.push(b)})},a.prototype.broadcastActive=function(){if(this.hasActive()){var a=this.callbackCtx_,b=this.activeObservations_.map(function(a){return new Gb(a.target,a.broadcastRect())});this.callback_.call(a,b,a),this.clearActive()}},a.prototype.clearActive=function(){this.activeObservations_.splice(0)},a.prototype.hasActive=function(){return 0<this.activeObservations_.length},a}(),Ib="undefined"==typeof WeakMap?new ub:new WeakMap,Jb=function(){function a(b){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var c=Ab.getInstance(),d=new Hb(b,c,this);Ib.set(this,d)}return a}();["observe","unobserve","disconnect"].forEach(function(a){Jb.prototype[a]=function(){var b;return(b=Ib.get(this))[a].apply(b,arguments)}});var Kb=function(){return"undefined"==typeof wb.ResizeObserver?Jb:wb.ResizeObserver}();class Lb{constructor(a){this.classes=new Set,this.changed=!1,this.element=a;var b=(a.getAttribute("class")||"").split(/\s+/);for(var c of b)this.classes.add(c)}add(a){this.classes.add(a),this.changed=!0}remove(a){this.classes.delete(a),this.changed=!0}commit(){if(this.changed){var a="";this.classes.forEach(b=>a+=b+" "),this.element.setAttribute("class",a)}}}var Mb=new WeakMap,Nb=za(a=>b=>{if(!(b instanceof Ja)||b instanceof Na||"class"!==b.committer.name||1<b.committer.parts.length)throw new Error("The `classMap` directive must be used in the `class` attribute and must be the only part in the attribute.");var{committer:c}=b,{element:d}=c,e=Mb.get(b);void 0===e&&(d.setAttribute("class",c.strings.join(" ")),Mb.set(b,e=new Set));var f=d.classList||new Lb(d);for(var g in e.forEach(b=>{b in a||(f.remove(b),e.delete(b))}),a){var h=a[g];h!=e.has(g)&&(h?(f.add(g),e.add(g)):(f.remove(g),e.delete(g)))}"function"==typeof f.commit&&f.commit()}),Ob=new WeakMap,Pb=za(a=>b=>{if(!(b instanceof Ja)||b instanceof Na||"style"!==b.committer.name||1<b.committer.parts.length)throw new Error("The `styleMap` directive must be used in the style attribute and must be the only part in the attribute.");var{committer:c}=b,{style:d}=c.element,e=Ob.get(b);for(var f in void 0===e&&(d.cssText=c.strings.join(" "),Ob.set(b,e=new Set)),e.forEach(b=>{b in a||(e.delete(b),-1===b.indexOf("-")?d[b]=null:d.removeProperty(b))}),a)e.add(f),-1===f.indexOf("-")?d[f]=a[f]:d.setProperty(f,a[f])}),Qb=rb(Z()),Rb=rb(Y()),Sb=(a,b,c,d)=>{var f;if(c)switch(c.action){case"more-info":{f=new Event("hass-more-info",{composed:!0}),f.detail={entityId:c.entity||d},a.dispatchEvent(f);break}case"navigate":{if(!c.navigation_path)return;window.history.pushState(null,"",c.navigation_path),f=new Event("location-changed",{composed:!0}),f.detail={replace:!1},window.dispatchEvent(f);break}case"call-service":{if(!c.service)return;var[g,h]=c.service.split(".",2),i=W({},c.service_data);b.callService(g,h,i);break}case"url":{if(!c.url)return;window.location.href=c.url}}},Tb=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"unknown",d=a.selectedLanguage||a.language,e=a.resources[d];if(!e)return c;for(var f,g=0;g<b.length;g+=1)if(f=b[g],e[f])return e[f];return c};console.info("%c MINI-CLIMATE-CARD %c ".concat("v1.2.3"," "),"color: white; background: coral; font-weight: 700;","color: coral; background: white; font-weight: 700;");var Ub={DEFAULT:"mdi:air-conditioner",FAN:"mdi:fan",OFF:"mdi:power",HEAT:"mdi:weather-sunny",AUTO:"mdi:cached",COOL:"mdi:snowflake",DRY:"mdi:water",FAN_ONLY:"mdi:fan",TOGGLE:"mdi:dots-horizontal",UP:"mdi:chevron-up",DOWN:"mdi:chevron-down"},Vb=["closed","locked","off"],Wb=["unavailable","unknown"],Xb=["more-info","navigate","call-service","url"];class Yb extends tb{static get properties(){return{indicators:{type:Object}}}handlePopup(a,b){a.stopPropagation(),Sb(this,b.hass,b.config.tap_action,b.entity.entity_id)}renderIcon(a){var{icon:b}=a;return b?Va(U(),Pb(a.iconStyle),b):""}renderUnit(a){return a?Va(T(),a):""}renderIndicator(a){if(!a)return"";var b=a.config&&a.config.tap_action&&a.config.tap_action.action,c=b&&Xb.includes(b)?"pointer":"";return Va(S(),c,b=>this.handlePopup(b,a),this.renderIcon(a),a.value,this.renderUnit(a.unit))}render(){var a=this;return Va(R(),Object.entries(this.indicators).map(b=>a.renderIndicator(b[1])))}static get styles(){return rb(Q())}}customElements.define("mc-indicators",Yb);class Zb extends tb{static get properties(){return{items:[],label:String,selected:String,icon:String,active:Boolean,disabled:Boolean}}get selectedId(){return this.items.map(a=>a.id).indexOf(this.selected)}onChange(a){var b=a.target.selected;b!==this.selectedId&&this.items[b]&&(this.dispatchEvent(new CustomEvent("change",{detail:this.items[b]})),a.target.selected=-1)}render(){return Va(P(),"right","top",44,!0,this.disabled,a=>a.stopPropagation(),this.icon,this.disabled,this.active,this.selectedId,this.onChange,this.items.map(a=>Va(O(),a.id||a.name,a.name)))}static get styles(){return[Rb,rb(N())]}}customElements.define("mc-dropdown-base",Zb);class $b extends tb{constructor(){super(),this.mode={}}static get properties(){return{mode:{type:Object}}}get calcIcon(){if(this.selected){if(this.selected.icon)return this.selected.icon;if(void 0!==this.selected.id&&null!==this.selected.id){var a=this.selected.id.toString().toUpperCase();if(a in Ub)return Ub[a]}}return""}get selected(){return this.mode.source.find(a=>a.id===this.mode.state)||{}}get sources(){return this.mode.source.filter(a=>!a.hide).map(a=>({name:a.name,id:a.id,type:"source"}))}handleChange(a){a.stopPropagation();var b=a.detail.id;this.mode.handleChange(b)}render(){return Va(M(),this.handleChange,this.sources,this.calcIcon,Pb(this.mode.style),this.mode.isActive(this.mode.state),this.selected.id)}static get styles(){return rb(L())}}customElements.define("mc-mode-menu",$b);class _b extends tb{constructor(){super(),this.dropdown={},this.timer=void 0,this._state=void 0}static get properties(){return{dropdown:{type:Object}}}handleChange(a){var b=this;a.stopPropagation();var c=a.detail.id,{entity:d}=this.dropdown;return this._state=c,this.dropdown.handleChange(c),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(aa(function*(){if(b.dropdown.entity===d)return b._state=void 0!==b.dropdown.state&&null!==b.dropdown.state?b.dropdown.state.toString():"",b.requestUpdate("_state")}),this.dropdown.actionTimeout),this.requestUpdate("_state")}render(){return Va(K(),Pb(this.dropdown.style),a=>this.handleChange(a),this.dropdown.source,this.dropdown.icon,this.dropdown.disabled,this.dropdown.isActive(this._state),this._state)}updated(a){if(a.has("dropdown"))return this._state=void 0!==this.dropdown.state&&null!==this.dropdown.state?this.dropdown.state.toString():"",this.timer&&clearTimeout(this.timer),this.requestUpdate("_state")}static get styles(){return[Rb,rb(J())]}}customElements.define("mc-dropdown",_b);class ac extends tb{constructor(){super(),this._isOn=!1,this.timer=void 0}static get properties(){return{button:{type:Object}}}handleToggle(a){var b=this;a.stopPropagation();var{entity:c}=this.button;return this._isOn=!this._isOn,this.button.handleToggle(),this.timer&&clearTimeout(this.timer),this.timer=setTimeout(aa(function*(){if(b.button.entity===c)return b._isOn=b.button.isOn,b.requestUpdate("_isOn")}),this.button.actionTimeout),this.requestUpdate("_isOn")}render(){return Va(I(),Pb(this.button.style),this.button.icon,a=>this.handleToggle(a),this.button.disabled||this.button.isUnavailable,this._isOn)}updated(a){if(a.has("button"))return this._isOn=this.button.isOn,this.timer&&clearTimeout(this.timer),this.requestUpdate("_isOn")}static get styles(){return[Rb,rb(H())]}}customElements.define("mc-button",ac);class bc extends tb{static get properties(){return{buttons:{}}}renderButton(a){return a.isUnavailable?"":Va(G(),a)}renderDropdown(a){return Va(F(),a)}renderInternal(a){return"dropdown"===a.type?this.renderDropdown(a):this.renderButton(a)}render(){var a=this;return Va(E(),Object.entries(this.buttons).map(a=>a[1]).filter(a=>"main"!==a.location&&!a.hide).sort((c,a)=>c.order>a.order?1:a.order>c.order?-1:0).map(b=>a.renderInternal(b)))}static get styles(){return[Rb,rb(D())]}}customElements.define("mc-buttons",bc);class cc extends tb{static get properties(){return{temperature:Object,changing:Boolean,target:Number}}get targetStr(){var a=this.temperature.step.toString().split(".");return a[1]?parseFloat(this.target.toString()).toFixed(a[1].length):this.target}renderTemperature(){return void 0===this.temperature.value?"":Va(C(),this.temperature.value)}render(){if(!this.temperature)return"";var a=this.changing?"changing":"",{unit:b}=this.temperature;return Va(B(),a,this.targetStr,this.renderTemperature(),b)}static get styles(){return rb(A())}}customElements.define("mc-temperature",cc);class dc extends tb{constructor(){super(),this.timeout=800}static get properties(){return{targetTemperature:{type:Object}}}increment(a){a.stopPropagation();var b=this.targetTemperature.increment();b&&(this.temp_last_changed=Date.now(),this.targetTemperatureChanged())}decrement(a){a.stopPropagation();var b=this.targetTemperature.decrement();b&&(this.temp_last_changed=Date.now(),this.targetTemperatureChanged())}sendChangeEvent(a){var b=new CustomEvent("changing",{detail:{changing:a}});this.dispatchEvent(b)}targetTemperatureChanged(){this.temp_last_changed&&(this.sendChangeEvent(!0),window.setTimeout(()=>{var a=Date.now();if(a-this.temp_last_changed>=this.timeout){var{value:b}=this.targetTemperature;try{this.targetTemperature.update(b)}finally{this.sendChangeEvent(!1),this.temp_last_changed=null}}},this.timeout+10))}render(){return this.targetTemperature?Va(z(),this.targetTemperature.icons.up,a=>this.increment(a),this.targetTemperature.icons.down,a=>this.decrement(a)):""}static get styles(){return rb(y())}}customElements.define("mc-target-temperature",dc);class ec extends tb{constructor(){super(),this.fanMode={},this.config={},this.timer=void 0,this._selected={},this.source={}}static get properties(){return{fanMode:{type:Object},config:{type:Object}}}get selectedIndex(){return this.fanMode.source.map(a=>a.id).indexOf(this._selected.id)}handleChange(a){var b=this,c=a.target.selected;if(c!==this.selectedIndex&&this.fanMode.source[c]){clearTimeout(this.timer);var d=this.fanMode.source[c],{entity:e}=this.fanMode,f=this._selected;return this._selected=d,this.timer=setTimeout(aa(function*(){if(b.fanMode.entity===e)return b._selected=f,b.requestUpdate("_selected")}),this.fanMode.actionTimeout),this.fanMode.handleChange(d.id),this.requestUpdate("_selected")}}renderFanMode(){var a=this._selected?this._selected.name:this.fanMode.state,b=this.config.secondary_info.icon?this.config.secondary_info.icon:this.fanMode.icon;return Va(x(),b,a)}renderFanModeDropdown(){return Va(w(),"right","top",44,this.fanMode.disabled,!0,this.renderFanMode(),this.selectedIndex,this.handleChange,this.fanMode.source.map(a=>Va(v(),a.id||a.name,a.name)))}render(){var{type:a}=this.config.secondary_info;return"fan-mode-dropdown"===a?this.renderFanModeDropdown():this.renderFanMode()}updated(a){a.has("fanMode")&&(clearTimeout(this.timer),this._selected=this.fanMode.selected,this.requestUpdate("_selected").then())}static get styles(){return[Rb,rb(u())]}}customElements.define("mc-fan-mode-secondary",ec);class fc extends tb{constructor(){super(),this.fanMode={},this.hvacMode={},this.config={},this.climate={}}static get properties(){return{fanMode:{type:Object},config:{type:Object},hvacMode:{type:Object},climate:{type:Object}}}renderHvacAction(){var a=this.climate.hvacAction;if(!a)return"";var b=a.icon?a.icon:this.config.secondary_info.icon,c=b?"":"gray";return Va(t(),b?Va(s(),b):"",c,a.name)}renderHvacMode(){var{hvacMode:a}=this,b=a.selected||{},c=b.icon?b.icon:this.config.secondary_info.icon;return Va(r(),c?Va(q(),c):"",b.name)}render(){var{type:a}=this.config.secondary_info;return"hvac-mode"===a?this.renderHvacMode():"hvac-action"===a?this.renderHvacAction():"last-changed"===a?Va(p(),this.climate.hass,this.climate.lastChanged):Va(o(),this.fanMode,this.config)}static get styles(){return[Rb,rb(n())]}}customElements.define("mc-secondary-info",fc);var gc=a=>a?Vb.includes(a)||Wb.includes(a)?Vb.includes(a)&&!Wb.includes(a)?"on":a:"off":a,hc=(a,b)=>a?b?b.attribute?a.attributes[b.attribute]:a.state:a.state:void 0,ic=(a,b)=>+"".concat(ka(+"".concat(a,"e").concat(b)),"e-").concat(b),jc=(a,b)=>{try{return new Function("","return ".concat(a)).call(b||{})}catch(b){throw new Error("\n[COMPILE ERROR]: [".concat(b.toString(),"]\n[SOURCE]: ").concat(a,"\n"))}};class kc{constructor(a,b,c){this.temperatureEntity=a||{},this.targetTemperatureEntity=b||{},this.config=c}get unit(){return this.config.temperature.unit||this.config.target_temperature.unit}get step(){var a=this.targetTemperatureEntity;return"step"in this.config.target_temperature?this.config.target_temperature.step:a&&a.attributes&&a.attributes.target_temp_step?a.attributes.target_temp_step:1}get value(){var a=this.rawValue;if(a!==void 0){if("fixed"in this.config.temperature)return parseFloat(a.toString()).toFixed(this.config.temperature.fixed);if("round"in this.config.temperature)return ic(a,this.config.temperature.round)}return a}get rawValue(){return hc(this.temperatureEntity,this.config.temperature.source)}}class lc{constructor(a,b,c){this.entity=a||{},this.config=b,this._hass=c,this.min=this.getMin(),this.max=this.getMax(),this.step=this.getStep()}get hass(){return this._hass}get icons(){return this.config.target_temperature.icons}getStep(){return"step"in this.config.target_temperature?this.config.target_temperature.step:this.entity&&this.entity.attributes&&this.entity.attributes.target_temp_step?this.entity.attributes.target_temp_step:1}getMin(){return"min"in this.config.target_temperature?this.config.target_temperature.min:this.entity&&this.entity.attributes&&this.entity.attributes.min_temp?this.entity.attributes.min_temp:16}getMax(){return"max"in this.config.target_temperature?this.config.target_temperature.max:this.entity&&this.entity.attributes&&this.entity.attributes.max_temp?this.entity.attributes.max_temp:30}get value(){return void 0===this._targetTemperature?hc(this.entity,this.config.target_temperature.source):this._targetTemperature}set value(a){this._targetTemperature=a}increment(){var a=this.value,b=this._round(this.value+this.step);return this.value=b<=this.max?b<=this.min?this.min:b:this.max,a!==this.value}decrement(){var a=this.value,b=this._round(this.value-this.step);return this.value=b>=this.min?b:this.min,a!==this.value}_round(a){var b=this.step.toString().split(".");return b[1]?parseFloat(a.toFixed(b[1].length)):ka(a)}update(a){if(this.config.target_temperature.functions.change_action){var b=this.hass[this.config.entity];return this.config.target_temperature.functions.change_action(a,this.entity,b)}return this.hass.callService("climate","set_temperature",{entity_id:this.entity.entity_id,temperature:a})}}class mc{constructor(a,b,c,d){this.config=b||{},this.entity=a||{},this.climate=c||{},this._hass=d||{}}get id(){return this.config.id}get location(){return this.config.location||"bottom"}get hass(){return this._hass}get type(){return this.config.type}get order(){return this.config.order}get hide(){return this.config.hide}get icon(){return this.config.icon}get originalState(){return hc(this.entity,this.config.state)}get state(){var a=this.originalState;return this.config.functions.state&&this.config.functions.state.mapper&&(a=this.config.functions.state.mapper(a,this.entity,this.climate.entity,this.climate.mode)),a}isActive(a){return!!this.config.functions.active&&this.config.functions.active(a,this.entity,this.climate.entity,this.climate.mode)}get isUnavailable(){return this.entity===void 0||Wb.includes(this.state)}get isOn(){return this.entity!==void 0&&!Vb.includes(this.state)&&!Wb.includes(this.state)}get disabled(){return!!this.config.functions.disabled&&this.config.functions.disabled(this.state,this.entity,this.climate.entity,this.climate.mode)}get style(){return this.config.functions.style?this.config.functions.style(this.state,this.entity,this.climate.entity,this.climate.mode)||{}:{}}get source(){var{functions:a}=this.config,b=Object.entries(this.config.source||{}).filter(a=>"__filter"!==a[0]).map(a=>({id:a[0],name:a[1]}));return a.source&&a.source.filter?a.source.filter(b,this.state,this.entity,this.climate.entity,this.climate.mode):b}get selected(){var{state:a}=this;return void 0===a||null===a?void 0:this.source.find(b=>b.id===a.toString())}get actionTimeout(){return"action_timeout"in this.config?this.config.action_timeout:2e3}handleToggle(){return this.config.functions.toggle_action?this.config.functions.toggle_action(this.state,this.entity,this.climate.entity,this.climate.mode):this.climate.callService("switch","toggle",{entity_id:this.entity.entity_id})}handleChange(a){return this.config.functions.change_action?this.config.functions.change_action(a,this.state,this.entity,this.climate.entity,this.climate.mode):void 0}}class nc{constructor(a,b,c,d){this.config=b||{},this.entity=a||{},this.climate=c||{},this._hass=d||{}}get id(){return this.config.id}get hass(){return this._hass}get originalValue(){return hc(this.entity,this.config.source)}get value(){var a=Number.isNaN,b=this.originalValue;return this.config.functions.mapper&&(b=this.config.functions.mapper(b,this.entity,this.climate.entity,this.climate.mode)),"round"in this.config&&!1===a(b)&&(b=ic(b,this.config.round)),b}get unit(){return this.config.unit}get icon(){if(this.config.functions.icon&&this.config.functions.icon.template)return this.config.functions.icon.template(this.value,this.entity,this.climate.entity,this.climate.mode);return this.config.icon&&"string"==typeof this.config.icon?this.config.icon:""}get iconStyle(){return this.config.functions.icon&&this.config.functions.icon.style?this.config.functions.icon.style(this.value,this.entity,this.climate.entity,this.climate.mode)||{}:{}}}class oc{constructor(a,b,c){this.hass=a||{},this.config=b||{},this.entity=c||{},this.state=c.state,this.attr=W({friendly_name:"",temperature:16,current_temperature:24,fan_mode:"",hvac_modes:[],target_temp_step:void 0,min_temp:void 0,max_temp:void 0,hvac_action:"",fan_modes:[]},c.attributes||{})}get lastChanged(){return this.entity.last_changed}get hvacAction(){var a=this.config.secondary_info&&this.config.secondary_info.source||{},b=this.attr.hvac_action,c={id:b};return c.name=Tb(this.hass,["".concat("state_attributes.climate.hvac_action",".").concat(b)],b),b in a&&("string"==typeof a[b]?c.name=a[b]:c=W({},c,{},a[b])),c}get mode(){return this._hvac_mode}set mode(a){this._hvac_mode=a}get defaultHvacModes(){for(var a=this.attr.hvac_modes,b=[],c=0;c<a.length;c+=1){var d=a[c],e=["state.climate.".concat(d),"component.climate.state._.".concat(d)],f={id:d,name:Tb(this.hass,e,d)},g=d.toString().toUpperCase();g in Ub&&(f.icon=Ub[g]),b.push(f)}return b}get defaultFanModes(){for(var a,b=this.attr.fan_modes,c={},d=0;d<b.length;d+=1)a=b[d],c[a]=Tb(this.hass,["".concat("state_attributes.climate.fan_mode",".").concat(a)],a);return c}get id(){return this.entity.entity_id}get icon(){return this.attr.icon}get name(){return this.attr.friendly_name||""}get isOff(){return this.entity!==void 0&&Vb.includes(this.state)&&!Wb.includes(this.state)}get isActive(){return!1===this.isOff&&!1===this.isUnavailable||!1}get isUnavailable(){return this.entity===void 0||Wb.includes(this.state)}get isOn(){return this.entity!==void 0&&!Vb.includes(this.state)&&!Wb.includes(this.state)}callService(a,b,c){return this.hass.callService(a,b,W({entity_id:this.config.entity},c))}}class pc{constructor(a,b,c){this.config=b||{},this.entity=a||{},this.climate=c||{}}get hide(){return this.config.hide}get originalState(){return hc(this.entity,this.config.state)}get state(){var a=this.originalState;return this.config.functions.state&&this.config.functions.state.mapper&&(a=this.config.functions.state.mapper(a,this.entity,this.climate.entity)),a}isActive(a){return!!this.config.functions.active&&this.config.functions.active(a,this.entity,this.climate.entity)}get disabled(){return!!this.config.functions.disabled&&this.config.functions.disabled(this.state,this.entity,this.climate.entity)}get style(){return this.config.functions.style?this.config.functions.style(this.state,this.entity,this.climate.entity)||{}:{}}get source(){var{functions:a}=this.config,b=Object.entries(this.config.source||{}).filter(a=>"__filter"!==a[0]).map(a=>"object"==typeof a[1]?W({id:a[0]},a[1]||{}):{id:a[0],name:a[1]});return a.source&&a.source.filter?a.source.filter(b,this.state,this.entity,this.climate.entity):b}get selected(){var{state:a}=this;return void 0===a||null===a?void 0:this.source.find(b=>b.id===a.toString())}handleChange(a){return this.config.functions.change_action?this.config.functions.change_action(a,this.entity,this.climate.entity):void 0}}customElements.get("ha-icon-button")||customElements.define("ha-icon-button",class extends customElements.get("paper-icon-button"){});class qc extends tb{constructor(){super(),this.initial=!0,this.toggle=!1,this.temperature={},this.targetTemperature={},this.buttons={},this.indicators={},this.hvacMode={},this.targetTemperatureChanging=!1,this.climate={},this.targetTemperatureValue=0,this.width=0}static get properties(){return{_hass:{type:Object},config:{type:Object},entity:{type:Object},climate:{type:Object},initial:{type:Boolean},toggle:{type:Boolean}}}static get styles(){return[Rb,Qb]}set hass(a){if(a){var b=a.states[this.config.entity];this._hass=a;var c=!1;b&&this.entity!==b&&(this.entity=b,this.climate=new oc(a,this.config,b),c=!0),this.updateIndicators(c),this.updateButtons(c),this.updateTemperature(c),this.updateTargetTemperature(c),this.updateHvacMode(c),this.climate.mode=this.hvacMode.selected}}get hass(){return this._hass}get name(){return this.config.name||this.climate.name}updateIndicators(a){for(var b={},c=!1,d=0;d<this.config.indicators.length;d+=1){var e=this.config.indicators[d],{id:f}=e,g=e.source.entity||this.climate.id,h=this.hass.states[g];h&&(b[f]=new nc(h,e,this.climate,this.hass)),h!==(this.indicators[f]&&this.indicators[f].entity)&&(c=!0)}(c||a)&&(this.indicators=b)}updateTemperature(a){if(!this.targetTemperatureChanging){var b=this.config.temperature.source.entity||this.config.entity,c=this.hass.states[b],d=this.config.target_temperature.source&&this.config.target_temperature.source.entity||this.config.entity,e=this.hass.states[d],f=new kc(c,e,this.config);(this.temperature.rawValue!==f.rawValue||this.temperature.target!==f.target||a)&&(this.temperature=f)}}updateTargetTemperature(a){if(!this.targetTemperatureChanging){var b=this.config.target_temperature.source&&this.config.target_temperature.source.entity||this.config.entity,c=this.hass.states[b];(this.targetTemperature.entity!==c||a)&&(this.targetTemperature=new lc(c,this.config,this.hass),this.targetTemperatureValue=this.targetTemperature.value)}}updateHvacMode(a){var b=this.config.hvac_mode,c=b.state&&b.state.entity||this.climate.id,d=this.hass.states[c];(d&&d!==(this.hvacMode&&this.hvacMode.entity)||a)&&(this.hvacMode=new pc(d,b,this.climate))}updateButtons(a){for(var b={},c=!1,d=0;d<this.config.buttons.length;d+=1){var e=this.config.buttons[d],{id:f}=e,g=e.state&&e.state.entity||this.climate.id,h=this.hass.states[g];h&&(b[f]=new mc(h,e,this.climate,this.hass)),h!==(this.buttons[f]&&this.buttons[f].entity)&&(c=!0)}(c||a)&&(this.buttons=b)}getButtonsConfig(a){for(var b=Object.entries(a.buttons||{}),c=[],d=0;d<b.length;d+=1){var e=b[d][0],f=b[d][1],g=this.getButtonConfig(f,a);g.id=e,"order"in g||(g.order=d+1),c.push(g)}return c}getButtonConfig(a,b){var c=W({icon:"mdi:radiobox-marked",type:"button",toggle_action:void 0},a);c.functions={};var d=W({},a);return d.call_service=(a,b,c)=>this.hass.callService(a,b,c),d.entity_config=b,d.toggle_state=gc,c.disabled&&(c.functions.disabled=jc(c.disabled,d)),c.state&&c.state.mapper&&(c.functions.state={mapper:jc(c.state.mapper,d)}),c.active&&(c.functions.active=jc(c.active,d)),c.source&&c.source.__filter&&(c.functions.source={filter:jc(c.source.__filter,d)}),c.toggle_action&&(c.functions.toggle_action=jc(c.toggle_action,d)),c.change_action&&(c.functions.change_action=jc(c.change_action,d)),c.style&&(c.functions.style=jc(c.style,d)),c}getFanModeConfig(a){var b=W({id:"fan_mode",icon:"mdi:fan",type:"dropdown",order:0,state:{attribute:"fan_mode"},change_action:(a,b,c)=>{var d={fan_mode:a,entity_id:c.entity_id};return this.call_service("climate","set_fan_mode",d)}},a.fan_mode||{});b=this.getButtonConfig(b,a);var{functions:c}=b;return c.active||(c.active=()=>this.climate.isOn),b}getIndicatorConfig(a,b,c){var d=W({id:a,source:{enitity:void 0,attribute:void 0,mapper:void 0},icon:""},b);d.tap_action="string"==typeof b.tap_action?{action:b.tap_action}:W({action:"none"},d.tap_action||{}),d.functions=d.functions||{};var e=W({},b);return e.entity_config=c,e.toggle_state=gc,d.source.mapper&&(d.functions.mapper=jc(d.source.mapper,e)),"object"==typeof d.icon&&(d.functions.icon={},d.icon.template&&(d.functions.icon.template=jc(d.icon.template,e)),d.icon.style&&(d.functions.icon.style=jc(d.icon.style,e))),d}getIndicatorsConfig(a){return Object.entries(a.indicators||{}).map(b=>this.getIndicatorConfig(b[0],b[1]||{},a)).filter(a=>!a.hide)}getTargetTemperatureConfig(a){var b=W({unit:"\xB0C",source:{entity:void 0,attribute:"temperature"}},a.target_temperature||{});b.icons=W({up:Ub.UP,down:Ub.DOWN},b.icons||{}),b.functions={};var c=W({},a.target_temperature||{});return c.call_service=(a,b,c)=>this.hass.callService(a,b,c),c.entity_config=a,c.toggle_state=gc,b.change_action&&(b.functions.change_action=jc(b.change_action,c)),b}getHvacModeConfig(a){var b=W({type:"dropdown",change_action:(a,b)=>{var c={hvac_mode:a,entity_id:b.entity_id};return this.call_service("climate","set_hvac_mode",c)}},a.hvac_mode||{});b=this.getButtonConfig(b,this.config);var{functions:c}=b;return c.active||(c.active=()=>this.climate.isOn),b}setConfig(a){var b=["climate","fan"];if(!a.entity||!1===b.includes(a.entity.split(".")[0]))throw new Error("Specify an entity from within domains: [".concat(b.join(", "),"]."));this.config=W({tap_action:{action:"more-info",navigation_path:"",url:"",entity:"",service:"",service_data:{}}},a),this.config.indicators=this.getIndicatorsConfig(a),this.config.buttons=this.getButtonsConfig(a),this.fanModeConfig=this.getFanModeConfig(a),this.config.buttons.push(this.fanModeConfig),this.config.target_temperature=this.getTargetTemperatureConfig(a),this.config.temperature=W({round:1,unit:"\xB0C",source:{entity:void 0,attribute:"current_temperature"}},a.temperature||{}),this.config.hvac_mode=this.getHvacModeConfig(this.config),this.config.toggle=W({icon:Ub.TOGGLE,hide:!1,default:!1},a.toggle||{}),this.config.secondary_info="string"==typeof a.secondary_info?{type:a.secondary_info}:W({type:"fan_mode"},a.secondary_info||{}),this.toggle=this.config.toggle.default}renderCtlWrap(){if(this.climate.isUnavailable)return Va(m(),Tb(this.hass,["state.default.unavailable"],"Unavailable"));var a=Object.entries(this.buttons).map(a=>a[1]).filter(a=>"main"===a.location&&!a.hide).sort((c,a)=>c.order>a.order?1:a.order>c.order?-1:0);return Va(l(),a.map(a=>"dropdown"===a.type?Va(k(),a):Va(j(),a)),this.hvacMode.hide?"":Va(i(),this.hvacMode),this.temperature,this.targetTemperatureValue,this.targetTemperatureChanging)}renderEntityControls(){return this.climate.isUnavailable?"":Va(h(),this.targetTemperature,a=>this.handleChangingTargetTemperature(a))}render(){var a="fan-mode-dropdown"!==this.config.secondary_info.type;return Va(g(),this.computeClasses(),this.computeStyles(),this.renderIcon(),b=>this.handlePopup(b,a),this.renderEntityName(),this.renderCtlWrap(),this.renderBottomPanel(),this.renderEntityControls(),this.renderTogglePanel())}handleChangingTargetTemperature(a){return this.targetTemperatureValue=this.targetTemperature.value,this.targetTemperatureChanging=a.detail.changing,this.requestUpdate("targetTemperatureChanging")}handlePopup(a,b){b&&(a.stopPropagation(),Sb(this,this.hass,this.config.tap_action,this.climate.id))}handleToggle(a){a.stopPropagation(),this.toggle=!this.toggle}toggleButtonCls(){return this.toggle?"open":""}renderIcon(){var a=this.climate.isActive;return Va(f(),a,this.computeIcon())}renderTogglePanel(){return this.toggle?Va(e(),this.buttons):""}renderBottomPanel(){return this.climate.isUnavailable?"":Va(d(),this.indicators,this.renderToggleButton())}renderToggleButton(){return 0===this.config.buttons.filter(a=>!a.hide&&"main"!==a.location).length?"":this.config.toggle.hide?"":Va(c(),this.toggleButtonCls(),this.config.toggle.icon,a=>this.handleToggle(a))}renderEntityName(){return Va(b(),a=>this.handlePopup(a,!0),this.name,this.renderSecondaryInfo())}renderSecondaryInfo(){return this.climate.isUnavailable?"":Va(a(),this.climate,this.config,this.hvacMode,this.buttons.fan_mode)}computeIcon(){return this.config.icon?this.config.icon:this.climate.icon||Ub.DEFAULT}computeClasses(){var{config:a}=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this;return Nb({"--initial":this.initial,"--collapse":a.collapse,"--group":a.group,"--more-info":"none"!==a.tap_action,"--inactive":!this.climate.isActive,"--unavailable":this.climate.isUnavailable})}computeStyles(){var{scale:a}=this.config;return Pb(W({},a&&{"--mc-unit":"".concat(40*a,"px")},{},{"--mc-card-width":"".concat(this.width,"px")}))}initDefaultFanModeSource(){var a=this.fanModeConfig,b=Object.entries(a.source||{}).filter(a=>"__filter"!==a[0]),{entity:c}=this.climate;c&&0===b.length&&c.attributes&&c.attributes.fan_modes&&(a.source=W({},this.climate.defaultFanModes,{},a.source||{}))}initDefaultHvacModeSource(){var a=this.config.hvac_mode,b=Object.entries(a.source||{}).filter(a=>"__filter"!==a[0]),{entity:c}=this.climate;c&&0===b.length&&(a.source=W({},this.climate.defaultHvacModes,{},a.source||{}))}firstUpdated(a){super.firstUpdated(a),a.has("climate")&&(this.initDefaultFanModeSource(),this.initDefaultHvacModeSource(),this.requestUpdate("climate").then()),a.has("targetTemperature")&&(this.targetTemperatureValue=this.targetTemperature.value,this.requestUpdate("targetTemperatureValue").then());var b=new Kb(a=>{var b=a.find(a=>a.target===this);b&&b.contentRect&&this.width!==b.contentRect.width&&(this.width=b.contentRect.width,this.requestUpdate("width").then())});b.observe(this)}}customElements.define("mini-climate",qc)})})();
