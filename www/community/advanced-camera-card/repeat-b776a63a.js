import{dP as e,dQ as s,e6 as t,e7 as r,e8 as l,e9 as n,ea as o,eb as i,dR as a}from"./card-4818d30e.js";
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const u=(e,s,t)=>{const r=new Map;for(let l=s;l<=t;l++)r.set(e[l],l);return r},f=e(class extends s{constructor(e){if(super(e),e.type!==t.CHILD)throw Error("repeat() can only be used in text expressions")}dt(e,s,t){let r;void 0===t?t=s:void 0!==s&&(r=s);const l=[],n=[];let o=0;for(const s of e)l[o]=r?r(s,o):o,n[o]=t(s,o),o++;return{values:n,keys:l}}render(e,s,t){return this.dt(e,s,t).values}update(e,[s,t,f]){const c=r(e),{values:d,keys:h}=this.dt(s,t,f);if(!Array.isArray(c))return this.ut=h,d;const p=this.ut??=[],v=[];let y,x,g=0,b=c.length-1,k=0,m=d.length-1;for(;g<=b&&k<=m;)if(null===c[g])g++;else if(null===c[b])b--;else if(p[g]===h[k])v[k]=l(c[g],d[k]),g++,k++;else if(p[b]===h[m])v[m]=l(c[b],d[m]),b--,m--;else if(p[g]===h[m])v[m]=l(c[g],d[m]),n(e,v[m+1],c[g]),g++,m--;else if(p[b]===h[k])v[k]=l(c[b],d[k]),n(e,c[g],c[b]),b--,k++;else if(void 0===y&&(y=u(h,k,m),x=u(p,g,b)),y.has(p[g]))if(y.has(p[b])){const s=x.get(h[k]),t=void 0!==s?c[s]:null;if(null===t){const s=n(e,c[g]);l(s,d[k]),v[k]=s}else v[k]=l(t,d[k]),n(e,c[g],t),c[s]=null;k++}else o(c[b]),b--;else o(c[g]),g++;for(;k<=m;){const s=n(e,v[m+1]);l(s,d[k]),v[k++]=s}for(;g<=b;){const e=c[g++];null!==e&&o(e)}return this.ut=h,i(e,v),a}});export{f as c};
